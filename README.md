# Discord Bot

Это бот для Discord, написанный на Python. Он поддерживает следующие функции:

- Управление балансом пользователей.
- Магазин с товарами.
- Очистка сообщений.
- Передача поинтов между пользователями.

## Установка

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
2. Создайте файл .env и добавьте в него ваш токен:
    TOKEN=ваш_токен
3. Запустите бота:
    python main.py



## За основу взято

Этот проект основан на коде, предоставленном [Mikhail Sokov](https://github.com/MishaSok/discord_economy_bot_rus/tree/master). Оригинальный код был доработан для добавления новых функций и улучшений.


## Изменения, внесённые в проект

- **Расширение функциональности бота:**
  - Добавлены новые команды для управления пользователями (`clear_user`, `delete`, `balance`, `balance_user`).
  - Внедрены команды для работы с балансовой системой (`give`, `points_set`, `points_give`).
  - Реализованы команды для взаимодействия с магазином (`buy_item`, `add_item`).

- **Улучшение структуры базы данных:**
  - Созданы дополнительные таблицы `shop` и `server` для расширения функциональности.
  - Автоматическое создание необходимых таблиц при запуске бота, если они отсутствуют.

- **Повышение безопасности:**
  - Использование файла `.env` для хранения и защиты токена бота.
  - Применение параметризованных SQL-запросов для предотвращения SQL-инъекций.
  - Санитизация входных данных пользователей для повышения безопасности.

- **Оптимизация и эффективность:**
  - Оптимизированы операции с базой данных для снижения времени выполнения и повышения производительности.
  - Минимизация количества коммитов к базе данных для улучшения скорости работы.

- **Административные инструменты и модерация:**
  - Реализованы команды для очистки сообщений пользователей и массового удаления сообщений (`clear_user`, `delete`).
  - Внедрена проверка разрешений для обеспечения выполнения административных команд только уполномоченными пользователями.
  - Добавлено логирование административных действий в специальные каналы для обеспечения прозрачности и мониторинга.

- **Система управления балансом и магазин:**
  - Создана система отслеживания баланса пользователей с возможностью пополнения, передачи и установки баланса.
  - Разработана интерактивная система магазина для покупки и добавления товаров с использованием поинтов.
  - Интегрировано логирование транзакций покупок для ведения учета и прозрачности.

- **Улучшение пользовательского опыта:**
  - Использованы встроенные сообщения (Embeds) для создания визуально привлекательных и информативных ответов.
  - Реализована комплексная обработка ошибок с информативными сообщениями для пользователей.
  - Настроено динамическое присутствие бота с отображением игровой активности.

- **Качество кода и поддерживаемость:**
  - Организован модульный код с четкой структурой для облегчения поддержки и масштабирования.
  - Поддерживается высокий уровень читаемости кода за счет последовательного форматирования и описательных имен переменных.
  - Добавлены комментарии и документация для облегчения понимания кода и его дальнейшего развития.

- **Интеграция с внешними сервисами и инструментами:**
  - Использование библиотеки `dotenv` для управления переменными окружения.
  - Поддержка версии контроля с использованием Git для управления кодовой базой и отслеживания изменений.

- **Дополнительные улучшения:**
  - Реализована автоматическая регистрация пользователей при запуске бота, что упрощает процесс начала взаимодействия.
  - Добавлена возможность изменения префикса команд через конфигурационный файл, обеспечивая гибкость настройки бота.

## Важно
- Этот бот был создан в учебных целях. Возможны незначительные ошибки и недоработки. Пожалуйста, сообщайте о найденных проблемах для их устранения.